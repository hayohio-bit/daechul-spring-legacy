<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.zerock.mapper.BoardMapper">

<select id="selectBoardList" resultType="org.zerock.dto.BoardDTO">
	SELECT seq, writer, title, content, hit, regdate, updatedate, delflag 
	FROM board
	WHERE delflag = false
	ORDER BY seq DESC
</select>

<select id="selectBoard" resultType="org.zerock.dto.BoardDTO">
	SELECT * from board WHERE bno = #{bno}
</select>

<select id="selectBoardsWithPaging" resultType="org.zerock.dto.BoardDTO">
	SELECT seq, writer, title, content, hit, regdate, updatedate, delflag 
	FROM board
	WHERE delflag = false 
	ORDER BY seq DESC 
	LIMIT #{size} OFFSET #{skip}
</select>

<select id="countBoards" resultType="int">
	SELECT COUNT(*)
	FROM board
	WHERE delflag = false
</select>

<select id="selectOneBySeq" resultType="org.zerock.dto.BoardDTO">
	SELECT * FROM board
	WHERE seq = #{seq}
	AND delFlag = 0
</select>

<update id="updateHitCount" parameterType="int">
	UPDATE board
	SET hit= hit + 1
	WHERE seq = #{seq}
	AND delFlag = 0
</update>

<insert id="boardWrite" parameterType="org.zerock.dto.BoardDTO">
	INSERT INTO board (writer, title, content, hit, regDate)
	VALUES (#{writer}, #{title}, #{content}, 0, NOW())
</insert>

<update id="boardModify">
	UPDATE 
</update>


</mapper>